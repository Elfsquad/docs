"use strict";(self.webpackChunkelfsquad=self.webpackChunkelfsquad||[]).push([[860],{9374:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return T},default:function(){return E},frontMatter:function(){return v},metadata:function(){return C},toc:function(){return b}});var a=n(2122),r=n(9756),s=n(7294),o=n(3905),i=n(9443);var l=function(){var e=(0,s.useContext)(i.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},c=n(6010),u="tabItem_1uMI",d="tabItemActive_2DSg";var p=37,m=39;var h=function(e){var t=e.lazy,n=e.block,a=e.defaultValue,r=e.values,o=e.groupId,i=e.className,h=l(),f=h.tabGroupChoices,k=h.setTabGroupChoices,v=(0,s.useState)(a),T=v[0],C=v[1],b=s.Children.toArray(e.children),g=[];if(null!=o){var E=f[o];null!=E&&E!==T&&r.some((function(e){return e.value===E}))&&C(E)}var N=function(e){var t=e.currentTarget,n=g.indexOf(t),a=r[n].value;C(a),null!=o&&(k(o,a),setTimeout((function(){var e,n,a,r,s,o,i,l;(e=t.getBoundingClientRect(),n=e.top,a=e.left,r=e.bottom,s=e.right,o=window,i=o.innerHeight,l=o.innerWidth,n>=0&&s<=l&&r<=i&&a>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(d),setTimeout((function(){return t.classList.remove(d)}),2e3))}),150))},I=function(e){var t,n;switch(e.keyCode){case m:var a=g.indexOf(e.target)+1;n=g[a]||g[0];break;case p:var r=g.indexOf(e.target)-1;n=g[r]||g[g.length-1]}null==(t=n)||t.focus()};return s.createElement("div",{className:"tabs-container"},s.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,c.Z)("tabs",{"tabs--block":n},i)},r.map((function(e){var t=e.value,n=e.label;return s.createElement("li",{role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,className:(0,c.Z)("tabs__item",u,{"tabs__item--active":T===t}),key:t,ref:function(e){return g.push(e)},onKeyDown:I,onFocus:N,onClick:N},n)}))),t?(0,s.cloneElement)(b.filter((function(e){return e.props.value===T}))[0],{className:"margin-vert--md"}):s.createElement("div",{className:"margin-vert--md"},b.map((function(e,t){return(0,s.cloneElement)(e,{key:t,hidden:e.props.value!==T})}))))};var f=function(e){var t=e.children,n=e.hidden,a=e.className;return s.createElement("div",{role:"tabpanel",hidden:n,className:a},t)},k=["components"],v={title:"Client Credentials",sidebar_position:2},T=void 0,C={unversionedId:"Authentication/client-credentials",id:"Authentication/client-credentials",isDocsHomePage:!1,title:"Client Credentials",description:"Before You Begin",source:"@site/docs/Authentication/client-credentials.md",sourceDirName:"Authentication",slug:"/Authentication/client-credentials",permalink:"/docs/Authentication/client-credentials",editUrl:"https://github.com/elfsquad/docs/edit/master/docs/Authentication/client-credentials.md",version:"current",sidebarPosition:2,frontMatter:{title:"Client Credentials",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/docs/Authentication/"},next:{title:"User Authentication",permalink:"/docs/Authentication/user-authentication"}},b=[{value:"Before You Begin",id:"before-you-begin",children:[]},{value:"Step 1: Use your Client ID and Secret to obtain an access token",id:"step-1-use-your-client-id-and-secret-to-obtain-an-access-token",children:[]},{value:"Step 2: Retrieve the access token from the response",id:"step-2-retrieve-the-access-token-from-the-response",children:[]},{value:"Step 3: Use the access token to access Elfsquad APIs",id:"step-3-use-the-access-token-to-access-elfsquad-apis",children:[]}],g={toc:b};function E(e){var t=e.components,n=(0,r.Z)(e,k);return(0,o.kt)("wrapper",(0,a.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"before-you-begin"},"Before You Begin"),(0,o.kt)("p",null,"Create a new OpenId client integration page in the ",(0,o.kt)("a",{parentName:"p",href:"https://ems.elfsquad.io/integration"},"Integrations page")," and note your Client id and Secret."),(0,o.kt)("h2",{id:"step-1-use-your-client-id-and-secret-to-obtain-an-access-token"},"Step 1: Use your Client ID and Secret to obtain an access token"),(0,o.kt)("p",null,"Replace the ",(0,o.kt)("inlineCode",{parentName:"p"},"{CLIENT_ID}")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"{CLIENT_SECRET}")," values in the example below with those specific to your OpenId Client."),(0,o.kt)(h,{defaultValue:"http",values:[{label:"HTTP",value:"http"},{label:"cURL",value:"curl"},{label:"C# - RestSharp",value:"csharp"}],mdxType:"Tabs"},(0,o.kt)(f,{value:"http",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-http"},"POST /connect/token HTTP/1.1\nHost: login.elfsquad.io\nContent-Type: application/x-www-form-urlencoded\n\nclient_id={CLIENT_ID}&client_secret={CLIENT_SECRET}&grant_type=client_credentials&scope=Elfskot.Api\n"))),(0,o.kt)(f,{value:"curl",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl --location --request POST 'https://login.elfsquad.io/connect/token' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'client_id={CLIENT_ID}' \\\n--data-urlencode 'client_secret={CLIENT_SECRET}' \\\n--data-urlencode 'grant_type=client_credentials' \\\n--data-urlencode 'scope=Elfskot.Api'\n"))),(0,o.kt)(f,{value:"csharp",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c#"},'var client = new RestClient("https://login.elfsquad.io/connect/token");\nclient.Timeout = -1;\nvar request = new RestRequest(Method.POST);\nrequest.AddHeader("Content-Type", "application/x-www-form-urlencoded");\nrequest.AddParameter("client_id", "{CLIENT_ID}");\nrequest.AddParameter("client_secret", "{CLIENT_SECRET}");\nrequest.AddParameter("grant_type", "client_credentials");\nrequest.AddParameter("scope", "Elfskot.Api");\nIRestResponse response = client.Execute(request);\nConsole.WriteLine(response.Content);\n')))),(0,o.kt)("h2",{id:"step-2-retrieve-the-access-token-from-the-response"},"Step 2: Retrieve the access token from the response"),(0,o.kt)("p",null,"A successful response will look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "access_token": "{ACCESS_TOKEN}",\n    "expires_in": 3600,\n    "token_type": "Bearer",\n    "scope": "Elfskot.Api"\n}\n')),(0,o.kt)("h2",{id:"step-3-use-the-access-token-to-access-elfsquad-apis"},"Step 3: Use the access token to access Elfsquad APIs"),(0,o.kt)("p",null,"You can now use the access token to make calls to one of the Elfsquad APIs until the token expires."),(0,o.kt)(h,{defaultValue:"http",values:[{label:"HTTP",value:"http"},{label:"cURL",value:"curl"},{label:"C# - RestSharp",value:"csharp"}],mdxType:"Tabs"},(0,o.kt)(f,{value:"http",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-http"},"GET /data/1/features HTTP/1.1\nHost: api.elfsquad.io\nAuthorization: Bearer {ACCESS_TOKEN}\n"))),(0,o.kt)(f,{value:"curl",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl --location --request GET 'https://api.elfsquad.io/data/1/features' \\\n--header 'Authorization: Bearer {ACCESS_TOKEN}'\n"))),(0,o.kt)(f,{value:"csharp",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c#"},'var client = new RestClient("https://api.elfsquad.io/data/1/features");\nclient.Timeout = -1;\nvar request = new RestRequest(Method.GET);\nrequest.AddHeader("Authorization", "Bearer {ACCESS_TOKEN}");\nIRestResponse response = client.Execute(request);\nConsole.WriteLine(response.Content);\n')))))}E.isMDXComponent=!0}}]);