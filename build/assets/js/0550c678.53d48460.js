"use strict";(self.webpackChunkelfsquad=self.webpackChunkelfsquad||[]).push([["68025"],{81558:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>r,default:()=>p,toc:()=>h,metadata:()=>i,assets:()=>c,contentTitle:()=>a});var i=JSON.parse('{"id":"extensions/getting-started/explore-scaffolded-extension","title":"Explore the scaffolded extension","description":"In the previous step, you used the Elfsquad CLI.","source":"@site/docs/extensions/getting-started/explore-scaffolded-extension.mdx","sourceDirName":"extensions/getting-started","slug":"/extensions/getting-started/explore-scaffolded-extension","permalink":"/docs/extensions/getting-started/explore-scaffolded-extension","draft":false,"unlisted":false,"editUrl":"https://github.com/elfsquad/docs/edit/main/docs/extensions/getting-started/explore-scaffolded-extension.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Explore the scaffolded extension","sidebar_position":2,"sidebar_label":"Explore the scaffolded extension","slug":"./explore-scaffolded-extension"},"sidebar":"extensionsSidebar","previous":{"title":"Scaffold an extension","permalink":"/docs/extensions/getting-started/scaffold-an-extension"},"next":{"title":"Customize the extension","permalink":"/docs/extensions/getting-started/customize-the-extension"}}'),s=n(85893),l=n(50065),d=n(90291),o=n(88878);let r={title:"Explore the scaffolded extension",sidebar_position:2,sidebar_label:"Explore the scaffolded extension",slug:"./explore-scaffolded-extension"},a=void 0,c={},h=[{value:"package.json",id:"packagejson",level:2},{value:"Dependencies",id:"dependencies",level:4},{value:"Dev dependencies",id:"dev-dependencies",level:4},{value:"Build script",id:"build-script",level:4},{value:"elfsquadrc.yml",id:"elfsquadrcyml",level:2},{value:"Identifier",id:"identifier",level:4},{value:"Page extensions",id:"page-extensions",level:4},{value:"Actions",id:"actions",level:4},{value:"Executable",id:"executable",level:4}];function u(e){let t={a:"a",code:"code",h2:"h2",h4:"h4",p:"p",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["In the previous step, you used the ",(0,s.jsx)(t.a,{href:"https://github.com/elfsquad/cli",children:"Elfsquad CLI"}),".\nto scaffold a new extension. Some files were automatically generated for you."]}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(t.h2,{id:"packagejson",children:"package.json"}),"\n",(0,s.jsx)(t.p,{children:"The package.json files comes with some (dev) dependencies by default, to help\nyou get started. All of these can be removed or replaced with tools of your choice."}),"\n",(0,s.jsxs)(d.k,{children:[(0,s.jsxs)(d.B,{highlight:"{11-11}",children:[(0,s.jsx)(t.h4,{id:"dependencies",children:"Dependencies"}),(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://github.com/elfsquad/custom-scripting",children:"@elfsquad/custom-scripting"}),"\nis installed by default. You can use  this package to interact\nwith the Elfsquad UI & API."]})]}),(0,s.jsxs)(d.B,{highlight:"{6-9}",children:[(0,s.jsx)(t.h4,{id:"dev-dependencies",children:"Dev dependencies"}),(0,s.jsx)(t.p,{children:"esbuild and TypeScript are installed by default for building and\nbundling the extension."})]}),(0,s.jsxs)(d.B,{highlight:"{4-4}",children:[(0,s.jsx)(t.h4,{id:"build-script",children:"Build script"}),(0,s.jsx)(t.p,{children:"The build script runs the TypeScript checker and bundles the\nsrc/index.ts file into dist/index.js."})]}),(0,s.jsx)(o.default,{language:"js",title:"package.json",children:`{
"name": "example-extension",
"scripts": {
  "build": "tsc src/*.ts -noEmit && esbuild src/index.ts --bundle --platform=node --outfile=dist/index.js"
},
"devDependencies": {
  "esbuild": "^0.12.0",
  "typescript": "^4.3.5"
},
"dependencies": {
  "@elfsquad/custom-scripting": "^0.0.4"
}
}`})]}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(t.h2,{id:"elfsquadrcyml",children:"elfsquadrc.yml"}),"\n",(0,s.jsx)(t.p,{children:"The elfsquadrc.yml file contains the configuration for the extension. It defines\nwhich actions and components should be added and where they should be placed."}),"\n",(0,s.jsxs)(d.k,{children:[(0,s.jsxs)(d.B,{highlight:"{1-1}",children:[(0,s.jsx)(t.h4,{id:"identifier",children:"Identifier"}),(0,s.jsx)(t.p,{children:"This is the unique identifier for the extension. Once you've published\nthe extension, the identifier should not be changed, otherwise it will be\nconsidered a new extension."})]}),(0,s.jsxs)(d.B,{highlight:"{2-3}",children:[(0,s.jsx)(t.h4,{id:"page-extensions",children:"Page extensions"}),(0,s.jsx)(t.p,{children:"This page extensions section is used to add extensions to the existing\nElfsquad pages, like the quotation page."})]}),(0,s.jsxs)(d.B,{highlight:"{4-9}",children:[(0,s.jsx)(t.h4,{id:"actions",children:"Actions"}),(0,s.jsx)(t.p,{children:"The actions section is used to add action buttons to the page. Each action\ncontains metadata, like the position and color."})]}),(0,s.jsxs)(d.B,{highlight:"{11-14}",children:[(0,s.jsx)(t.h4,{id:"executable",children:"Executable"}),(0,s.jsxs)(t.p,{children:["This is where you point to the entrypoint of the action, usually a JavaScript\nfile. The type can either be ",(0,s.jsx)(t.code,{children:"action"}),", for scripts that should be executed in\nthe background, or ",(0,s.jsx)(t.code,{children:"dialog"}),", for scripts that should open in a dialog."]})]}),(0,s.jsx)(o.default,{language:"yaml",title:"elfsquadrc.yml",children:`identifier: "example-extension"
page_extensions:
quotation:
  actions:
  - position: right
    color: primary

    names:
      en: Execute

    executable: 
      type: "action"
      entrypoint: "index.js"
`})]})]})}function p(e={}){let{wrapper:t}={...(0,l.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},34643:function(e,t,n){n.d(t,{Z:()=>s});var i=n(85893);function s(e){return(0,i.jsx)(i.Fragment,{children:e.children})}n(67294)},90291:function(e,t,n){n.d(t,{B:()=>d,k:()=>o});var i=n(67294),s=n(34643),l=n(88878);let d=e=>{let{children:t}=e;return i.createElement("div",null,t)},o=e=>{let{children:t}=e,[n,o]=(0,i.useState)(null),[a,c]=(0,i.useState)(""),[h,u]=(0,i.useState)(-1),p=i.Children.toArray(t).filter(e=>i.isValidElement(e)),f=p.find(e=>e.type===l.default||e.type===s.Z),x=p.filter(e=>e.type===d),g=i.useRef(null),m=x.map(()=>i.useRef(null)),j=()=>{if(!g.current)return;let e=g.current.getBoundingClientRect(),t=window.innerHeight||document.documentElement.clientHeight;o(Math.floor(Math.max(0,Math.min(e.bottom,t)-Math.max(e.top,0)))-32)},v=e=>{var t;if(!(null==(t=x[e])?void 0:t.props.highlight)||e<0||e>=x.length||e==h||(u(e),c(x[e].props.highlight),!g.current))return;let n=g.current.getElementsByClassName("theme-code-block-highlighted-line");n.length>0&&setTimeout(()=>{g.current&&(g.current.scrollTop=n[0].offsetTop-24)},200)},b=()=>{let e=window.scrollY+r(),t=m.findIndex(t=>!!t.current&&t.current.offsetTop>e);t!=h&&v(t)};return(0,i.useEffect)(()=>(j(),window.removeEventListener("scroll",b),window.addEventListener("scroll",b,{passive:!0}),v(0),()=>window.removeEventListener("scroll",b)),[]),i.createElement("div",{className:"codedoc-container"},i.createElement("div",null,x.map((e,t)=>i.createElement("div",{key:t,ref:m[t],className:`codedoc-section ${h==t?"active":""}`,onClick:()=>v(t)},i.createElement(d,Object.assign({},e.props))))),i.createElement("div",{ref:g,style:{height:`${n}px`,top:`${r()}px`},className:"codedoc-code-container"},f&&i.createElement(l.default,Object.assign({},f.props,{metastring:a,key:a}))))},r=()=>{if("undefined"==typeof getComputedStyle)return 0;let e=getComputedStyle(document.documentElement).getPropertyValue("--ifm-navbar-height");return e?e.includes("px")?parseInt(e.replace("px","")):e.includes("rem")?Math.floor(parseInt(e.replace("rem",""))*parseFloat(getComputedStyle(document.documentElement).fontSize)):0:0}}}]);