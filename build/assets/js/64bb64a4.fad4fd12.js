"use strict";(self.webpackChunkelfsquad=self.webpackChunkelfsquad||[]).push([["88521"],{30927:function(t,e,n){n.r(e),n.d(e,{frontMatter:()=>u,default:()=>f,toc:()=>l,metadata:()=>a,assets:()=>d,contentTitle:()=>c});var a=JSON.parse('{"id":"guides/create-quotation-from-configuration","title":"Create quotation from configuration","description":"Quotation generation falls into two categories: anonymous and","source":"@site/docs/guides/create-quotation-from-configuration.md","sourceDirName":"guides","slug":"/guides/create-quotation-from-configuration","permalink":"/docs/guides/create-quotation-from-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/elfsquad/docs/edit/main/docs/guides/create-quotation-from-configuration.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Create quotation from configuration","sidebar_position":1,"sidebar_label":"Create quotation from configuration","slug":"./create-quotation-from-configuration"},"sidebar":"guidesSidebar","next":{"title":"Update crm account on quotation","permalink":"/docs/guides/update-crm-account-on-quotation"}}'),o=n(85893),i=n(50065),r=n(20398),s=n(5525);let u={title:"Create quotation from configuration",sidebar_position:1,sidebar_label:"Create quotation from configuration",slug:"./create-quotation-from-configuration"},c=void 0,d={},l=[{value:"Authenticated",id:"authenticated",level:2},{value:"1. Creating a quotation",id:"1-creating-a-quotation",level:3},{value:"From an integration",id:"from-an-integration",level:4},{value:"From a custom interface",id:"from-a-custom-interface",level:4},{value:"2. Adding the configuration",id:"2-adding-the-configuration",level:3},{value:"Anonymous",id:"anonymous",level:2}];function h(t){let e={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,i.a)(),...t.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.p,{children:"Quotation generation falls into two categories: anonymous and\nauthenticated. While both can create and modify configurations, the\nprocess of converting a configuration into a quotation differs for each:\nanonymous users may 'request' a quotation, while authenticated users can\ndirectly create a quotation."}),"\n",(0,o.jsx)(e.h2,{id:"authenticated",children:"Authenticated"}),"\n",(0,o.jsx)(e.p,{children:"For authenticated HTTP requests, the translation can be split up into\ntwo steps: creating a quotation & adding a configuration to the\nquotation."}),"\n",(0,o.jsx)(e.h3,{id:"1-creating-a-quotation",children:"1. Creating a quotation"}),"\n",(0,o.jsx)(e.p,{children:"Creating a quotation should be done in different ways, depending on your\nuse-case."}),"\n",(0,o.jsx)(e.h4,{id:"from-an-integration",children:"From an integration"}),"\n",(0,o.jsxs)(e.p,{children:["Integrations should use the ",(0,o.jsx)(e.code,{children:"POST /data/1/Quotations"})," endpoint to create\na quotation. For more information, please consult the ",(0,o.jsx)(e.a,{href:"https://docs.elfsquad.io/apis/data/#tag/Quotations.Quotation/operation/Quotations.Quotation.CreateQuotation",children:"documentation"})]}),"\n",(0,o.jsx)(e.h4,{id:"from-a-custom-interface",children:"From a custom interface"}),"\n",(0,o.jsxs)(e.p,{children:["If you're making a custom interface, a different endpoint should be used\nto create a quotation: ",(0,o.jsx)(e.code,{children:"POST /api/2/quotations"}),"."]}),"\n",(0,o.jsxs)(r.Z,{defaultValue:"js",values:[{label:"JavaScript",value:"js"},{label:"HTTP",value:"http"}],children:[(0,o.jsx)(s.default,{value:"http",children:(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-http",children:'POST /api/2/quotations HTTP/1.1\nHost: api.elfsquad.io\nContent-Type: application/json\nAuthorization: Bearer YOUR_TOKEN\n\n{\n  "languageIso": "en",\n  "currencyIso": "eur"\n}\n'})})}),(0,o.jsx)(s.default,{value:"js",children:(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:"const request = fetch('https://api.elfsquad.io/api/2/quotations', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer YOUR_TOKEN'\n  },\n  body: JSON.stringify({\n    languageIso: 'en',\n    currencyIso: 'EUR'\n  })\n})\nconst response = await response.json();\n"})})})]}),"\n",(0,o.jsx)(e.p,{children:"Both of these requests will provide you with the id of the newly created\nquotation. You will need this identifier in the next step."}),"\n",(0,o.jsx)(e.h3,{id:"2-adding-the-configuration",children:"2. Adding the configuration"}),"\n",(0,o.jsxs)(e.p,{children:["The next step, is adding a configuration to the quotation you just\ncreated. For this, you can use an endpoint available in the configurator\nAPI. For more details, please consult the ",(0,o.jsx)(e.a,{href:"https://docs.elfsquad.io/apis/configurator#tag/Configurator/paths/~1configurator~1%7Bversion%7D~1configurator~1addtoquotation/put",children:"addtoquotation endpoint\ndocumentation"})]}),"\n",(0,o.jsx)(e.h2,{id:"anonymous",children:"Anonymous"}),"\n",(0,o.jsxs)(e.p,{children:["Requesting a quotation as an anonymous user is relatively simple. You\nonly need to perform one request to the ",(0,o.jsx)(e.a,{href:"https://docs.elfsquad.io/apis/configurator/#tag/Configurator/paths/~1configurator~1%7Bversion%7D~1configurator~1requestquote/post",children:"requestquote endpoint"}),"."]}),"\n",(0,o.jsxs)(e.p,{children:["This endpoint accepts the quotation id, configuration id(s) and a\n",(0,o.jsx)(e.code,{children:"quotationRequest"})," object. This object is used for adding metadata about\nthe anonymous user to the quotation, such as their name, email address,\netc. A new CrmAccount will be automatically created to store these data\npoints."]}),"\n",(0,o.jsxs)(r.Z,{defaultValue:"js",values:[{label:"JavaScript",value:"js"},{label:"HTTP",value:"http"}],children:[(0,o.jsx)(s.default,{value:"http",children:(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-http",children:'POST /configurator/3/configurator/requestquote HTTP/1.1\nHost: api.elfsquad.io\nContent-Type: application/json\nAuthorization: Bearer YOUR_TOKEN\n\n{\n    "configurationIds": ["1316cf56-1d58-4a3a-9d5e-7bba00a2cc41"],\n    "quotationId": "1316cf56-1d58-4a3a-9d5e-7bba00a2cc41",\n    "quotationRequest": {\n        "firstName": "Stan",\n        "email": "stan@elfsquad.io",\n        ...\n    }\n}\n'})})}),(0,o.jsx)(s.default,{value:"js",children:(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:"const configurationIds = ['1316cf56-1d58-4a3a-9d5e-7bba00a2cc41'];\nconst quotationId = '1316cf56-1d58-4a3a-9d5e-7bba00a2cc41';\nconst quotationRequest = {\nfirstName: 'Stan',\nemail: 'stan@elfsquad.io',\n// ...\n};\n\nconst requestOptions = {\nmethod: 'POST',\nheaders: {\n  'Content-Type': 'application/json',\n  'Authorization': 'Bearer YOUR_TOKEN',\n},\nbody: JSON.stringify({\n  configurationIds,\n  quotationId,\n  quotationRequest,\n}),\n};\n\nconst response = await fetch('https://api.elfsquad.io/configurator/3/configurator/requestquote', requestOptions);\nconst data = await response.json();\n"})})})]})]})}function f(t={}){let{wrapper:e}={...(0,i.a)(),...t.components};return e?(0,o.jsx)(e,{...t,children:(0,o.jsx)(h,{...t})}):h(t)}},20398:function(t,e,n){n.d(e,{Z:()=>h});var a=n(85893),o=n(67294),i=n(67026),r=n(69599),s=n(33057),u=n(7227);function c(t){let{className:e,block:n,selectedValue:o,selectValue:s,tabValues:u}=t,c=[],{blockElementScrollPositionUntilNextRender:d}=(0,r.o5)(),l=t=>{let e=t.currentTarget,n=u[c.indexOf(e)].value;n!==o&&(d(e),s(n))},h=t=>{let e=null;switch(t.key){case"Enter":l(t);break;case"ArrowRight":{let n=c.indexOf(t.currentTarget)+1;e=c[n]??c[0];break}case"ArrowLeft":{let n=c.indexOf(t.currentTarget)-1;e=c[n]??c[c.length-1]}}e?.focus()};return(0,a.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},e),children:u.map(t=>{let{value:e,label:n,attributes:r}=t;return(0,a.jsx)("li",{role:"tab",tabIndex:o===e?0:-1,"aria-selected":o===e,ref:t=>{c.push(t)},onKeyDown:h,onClick:l,...r,className:(0,i.Z)("tabs__item","tabItem_LNqP",r?.className,{"tabs__item--active":o===e}),children:n??e},e)})})}function d(t){let{lazy:e,children:n,selectedValue:r}=t,s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){let t=s.find(t=>t.props.value===r);return t?(0,o.cloneElement)(t,{className:(0,i.Z)("margin-top--md",t.props.className)}):null}return(0,a.jsx)("div",{className:"margin-top--md",children:s.map((t,e)=>(0,o.cloneElement)(t,{key:e,hidden:t.props.value!==r}))})}function l(t){let e=(0,s.Y)(t);return(0,a.jsxs)("div",{className:(0,i.Z)("tabs-container","tabList__CuJ"),children:[(0,a.jsx)(c,{...e,...t}),(0,a.jsx)(d,{...e,...t})]})}function h(t){let e=(0,u.default)();return(0,a.jsx)(l,{...t,children:(0,s.h)(t.children)},String(e))}}}]);