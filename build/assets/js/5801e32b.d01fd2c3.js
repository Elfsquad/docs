"use strict";(self.webpackChunkelfsquad=self.webpackChunkelfsquad||[]).push([["7199"],{30743:function(e,t,a){a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var s=a(15416),r=a(85893),n=a(50065);let o={slug:"tutorial - using the API to add master data and configuration models.",title:"Tutorial - Using the API to add master data and configuration models.",author:"Anco Postma",author_title:"Tech lead @ Elfsquad",author_url:"https://github.com/AJJPostma",author_image_url:"https://avatars.githubusercontent.com/u/15011154?v=4",tags:["automation","model","editor"]},i=void 0,d={authorsImageUrls:[void 0]},l=[{value:"1. Creating master data: features",id:"1-creating-master-data-features",level:2},{value:"2. Enriching master data: feature texts",id:"2-enriching-master-data-feature-texts",level:2},{value:"3. Expanding master data: feature properties",id:"3-expanding-master-data-feature-properties",level:2},{value:"3.1. Feature properties",id:"31-feature-properties",level:3},{value:"3.2. Feature has feature properties",id:"32-feature-has-feature-properties",level:3},{value:"4. Building the model: configuration model",id:"4-building-the-model-configuration-model",level:2},{value:"5. Building the model: nodes",id:"5-building-the-model-nodes",level:2},{value:"6. Building the model: relationships",id:"6-building-the-model-relationships",level:2}];function u(e){let t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["This guide will show you how to create new master data in Elfsquad (for example: from ERP), and use it to create configuration models using only the API.\nOfcourse all data created here can be viewed, changed and deleted through both the API and the interface (EMS).\nFor this purpose the elfsquad data api will be used. For more information, refer to the provided documentation. ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/apis/data-api",children:"https://docs.elfsquad.io/docs/apis/data-api"})]}),"\n",(0,r.jsx)(t.h2,{id:"1-creating-master-data-features",children:"1. Creating master data: features"}),"\n",(0,r.jsxs)(t.p,{children:["Before you can start building your model, you will first need the building blocks of Elfsquad: features.\nIn order to continue it is highly recommended to read our basic documentation about features. ",(0,r.jsx)(t.a,{href:"https://support.elfsquad.io/hc/en-us/articles/360035473554-What-are-Features",children:"https://support.elfsquad.io/hc/en-us/articles/360035473554-What-are-Features"}),".\nFor some more information: ",(0,r.jsx)(t.a,{href:"https://support.elfsquad.io/hc/en-us/articles/5266441178130-Create-or-update-Features-via-Data-API",children:"https://support.elfsquad.io/hc/en-us/articles/5266441178130-Create-or-update-Features-via-Data-API"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"The data API offers two separate endpoints for creating new features: one for adding a single feature and another for adding multiple features.\nWe strongly advice using the latter over sending multiple requests to the single feature endpoint.\nTo create multiple features, the following request must be sent:"}),"\n",(0,r.jsxs)(t.p,{children:["POST: ",(0,r.jsx)(t.a,{href:"https://api.elfsquad.io/data/1/Features/Default.BulkInsert",children:"https://api.elfsquad.io/data/1/Features/Default.BulkInsert"})]}),"\n",(0,r.jsx)(t.p,{children:"The body should have the following format:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "entities": [\n    {\n      "id": "32915340-0924-409b-a938-f7024b3d883c",\n      "name": "Product 1",\n      "articleCode": "AB1",\n      "type": "Feature",\n      "salesPrice": 75,\n      "minValue": 0,\n      "maxValue": 0,\n      "stepValue": 0,\n      "packingUnit": 0,\n      "reference": "ERP-REF-01",\n      "customField1": "string",\n      "customField2": "string",\n      "customField3": "string",\n      "customField4": "string",\n      "customField5": "string"\n    },\n    {\n      "id": "32915340-0924-409b-a938-f7024b3d883d",\n      "name": "Product 2",\n      "articleCode": "AB2",\n      "type": "Feature",\n      "salesPrice": 100,\n      "minValue": 0,\n      "maxValue": 0,\n      "stepValue": 0,\n      "packingUnit": 0,\n      "reference": "ERP-REF-02",\n      "customField1": "string",\n      "customField2": "string",\n      "customField3": "string",\n      "customField4": "string",\n      "customField5": "string"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"Specifying ids in this example is crucial for the next step. While Elfsquad can generate them if omitted, knowing the ids beforehand avoids having to fetch them later on."}),"\n",(0,r.jsx)(t.p,{children:"Fore more information about the request and response bodies, refer to the provided documentation."}),"\n",(0,r.jsxs)(t.p,{children:["Single feature: ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/spec/data/features-feature-create-feature",children:"https://docs.elfsquad.io/docs/spec/data/features-feature-create-feature"})]}),"\n",(0,r.jsxs)(t.p,{children:["Multiple features: ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/spec/data/features-bulk-insert",children:"https://docs.elfsquad.io/docs/spec/data/features-bulk-insert"})]}),"\n",(0,r.jsx)(t.h2,{id:"2-enriching-master-data-feature-texts",children:"2. Enriching master data: feature texts"}),"\n",(0,r.jsxs)(t.p,{children:["In order to provide the eventual users with some descriptive information about the features, some feature texts can be created. Both HTML and plain text values are supported. More info about feature texts can be found here: ",(0,r.jsx)(t.a,{href:"https://support.elfsquad.io/hc/en-us/articles/360018554940-Feature-Texts",children:"https://support.elfsquad.io/hc/en-us/articles/360018554940-Feature-Texts"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"Just as with features, the data API offers two seperate endpoints for creating new feature texts: one for adding a single feature text and one for adding multiple feature texts.\nTo create multiple feature texts, the following request must be sent:"}),"\n",(0,r.jsxs)(t.p,{children:["POST: ",(0,r.jsx)(t.a,{href:"https://api.elfsquad.io/data/1/FeatureTexts/Default.BulkInsert",children:"https://api.elfsquad.io/data/1/FeatureTexts/Default.BulkInsert"})]}),"\n",(0,r.jsx)(t.p,{children:"The body should have the following format:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "entities": [\n    {\n      "value": "Plain text example",\n      "languageIso": "en",\n      "type": "Description",\n      "featureId": "32915340-0924-409b-a938-f7024b3d883c",\n      "reference": "string",\n      "customField1": "string",\n      "customField2": "string",\n      "customField3": "string",\n      "customField4": "string",\n      "customField5": "string"\n    },\n    {\n      "value": "<p>Html text example</p>",\n      "languageIso": "en",\n      "type": "ExtendedDescription",\n      "featureId": "32915340-0924-409b-a938-f7024b3d883c",\n      "reference": "string",\n      "customField1": "string",\n      "customField2": "string",\n      "customField3": "string",\n      "customField4": "string",\n      "customField5": "string"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"Note that the featureId property should be equal to the id of the created feature(s) in the previous step."}),"\n",(0,r.jsx)(t.p,{children:"Fore more information about the request and response bodies, refer to the provided documentation."}),"\n",(0,r.jsxs)(t.p,{children:["Single feature text: ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/spec/data/feature-texts-feature-text-create-feature-text",children:"https://docs.elfsquad.io/docs/spec/data/feature-texts-feature-text-create-feature-text"})]}),"\n",(0,r.jsxs)(t.p,{children:["Multiple feature texts: ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/spec/data/feature-texts-bulk-insert",children:"https://docs.elfsquad.io/docs/spec/data/feature-texts-bulk-insert"})]}),"\n",(0,r.jsx)(t.h2,{id:"3-expanding-master-data-feature-properties",children:"3. Expanding master data: feature properties"}),"\n",(0,r.jsx)(t.h3,{id:"31-feature-properties",children:"3.1. Feature properties"}),"\n",(0,r.jsxs)(t.p,{children:["Next you will expand your master data with product specifications. In Elfsquad we call these: feature properties. In order to continue it is highly recommended to read our basic documentation about feature properties. ",(0,r.jsx)(t.a,{href:"https://support.elfsquad.io/hc/en-us/articles/360033531234-What-are-Feature-Properties",children:"https://support.elfsquad.io/hc/en-us/articles/360033531234-What-are-Feature-Properties"})]}),"\n",(0,r.jsxs)(t.p,{children:["For a more detailed aproach for this step: ",(0,r.jsx)(t.a,{href:"https://support.elfsquad.io/hc/en-us/articles/6244044992668-Feature-properties-via-the-API",children:"https://support.elfsquad.io/hc/en-us/articles/6244044992668-Feature-properties-via-the-API"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"First you have to create the diffrent kind of feature properties that your features will have. Just as with the other entities, the data API offers two seperate endpoints for creating new feature properties: one for adding a single feature property and one for adding multiple feature properties.\nTo create multiple feature properties, the following request must be sent:"}),"\n",(0,r.jsxs)(t.p,{children:["POST: ",(0,r.jsx)(t.a,{href:"https://api.elfsquad.io/data/1/FeatureProperties/Default.BulkInsert",children:"https://api.elfsquad.io/data/1/FeatureProperties/Default.BulkInsert"})]}),"\n",(0,r.jsx)(t.p,{children:"The body should have the following format:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "entities": [\n    {\n      "name": "Width",\n      "type": "Input",\n      "id": "497f6eca-6276-4993-bfeb-53cbbbba6f08",\n      "reference": "ERP-PROP-REF-01",\n      "customField1": "string",\n      "customField2": "string",\n      "customField3": "string",\n      "customField4": "string",\n      "customField5": "string"\n    },\n    {\n      "name": "Color",\n      "type": "Text",\n      "id": "497f6eca-6276-4993-bfeb-53cbbbba6f09",\n      "reference": "ERP-PROP-REF-02",\n      "customField1": "string",\n      "customField2": "string",\n      "customField3": "string",\n      "customField4": "string",\n      "customField5": "string"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"Specifying ids in this example is once again important for the next step."}),"\n",(0,r.jsx)(t.p,{children:"Fore more information about the request and response bodies, refer to the provided documentation."}),"\n",(0,r.jsxs)(t.p,{children:["Single feature property: ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/spec/data/feature-properties-feature-property-create-feature-property",children:"https://docs.elfsquad.io/docs/spec/data/feature-properties-feature-property-create-feature-property"})]}),"\n",(0,r.jsxs)(t.p,{children:["Multiple feature properties: ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/spec/data/feature-properties-bulk-insert",children:"https://docs.elfsquad.io/docs/spec/data/feature-properties-bulk-insert"})]}),"\n",(0,r.jsx)(t.h3,{id:"32-feature-has-feature-properties",children:"3.2. Feature has feature properties"}),"\n",(0,r.jsx)(t.p,{children:"Next you have to assign your newly created properties to the features created in step 1.\nTo do these you have to create a linking entity. This entity is called FeatureHasFeatureProperty.\nJust as with the other entities, the data API offers two seperate endpoints for creating new feature has feature properties: one for adding a single feature has feature property and one for adding multiple feature has feature properties.\nTo create multiple feature has feature properties, the following request must be sent:"}),"\n",(0,r.jsxs)(t.p,{children:["POST: ",(0,r.jsx)(t.a,{href:"https://api.elfsquad.io/data/1/FeatureHasFeatureProperties/Default.BulkInsert",children:"https://api.elfsquad.io/data/1/FeatureHasFeatureProperties/Default.BulkInsert"})]}),"\n",(0,r.jsx)(t.p,{children:"The body should have the following format:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "entities": [\n    {\n      "featureId": "32915340-0924-409b-a938-f7024b3d883c",\n      "featurePropertyId": "497f6eca-6276-4993-bfeb-53cbbbba6f08",\n      "value": 150,\n      "reference": "ERP-PROP-REF-01",\n      "customField1": "string",\n      "customField2": "string",\n      "customField3": "string",\n      "customField4": "string",\n      "customField5": "string"\n    },\n    {\n      "featureId": "32915340-0924-409b-a938-f7024b3d883c",\n      "featurePropertyId": "497f6eca-6276-4993-bfeb-53cbbbba6f09",\n      "textValue": "red",\n      "reference": "ERP-PROP-REF-02",\n      "customField1": "string",\n      "customField2": "string",\n      "customField3": "string",\n      "customField4": "string",\n      "customField5": "string"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:'By sending the payload above we have assigned our feature created in step 1 a width of 150 and a color of "red".'}),"\n",(0,r.jsx)(t.p,{children:"Fore more information about the request and response bodies, refer to the provided documentation."}),"\n",(0,r.jsxs)(t.p,{children:["Single feature has feature property: ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/spec/data/feature-has-feature-properties-feature-has-feature-property-create-feature-has-feature-property",children:"https://docs.elfsquad.io/docs/spec/data/feature-has-feature-properties-feature-has-feature-property-create-feature-has-feature-property"})]}),"\n",(0,r.jsxs)(t.p,{children:["Multiple feature has feature properties: ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/spec/data/feature-has-feature-properties-bulk-insert",children:"https://docs.elfsquad.io/docs/spec/data/feature-has-feature-properties-bulk-insert"})]}),"\n",(0,r.jsx)(t.h2,{id:"4-building-the-model-configuration-model",children:"4. Building the model: configuration model"}),"\n",(0,r.jsxs)(t.p,{children:["Now that you have succesfully implemented your master data, you can start building your model. In Elfsquad this model is called a configuration model (or feature model). More info: ",(0,r.jsx)(t.a,{href:"https://support.elfsquad.io/hc/en-us/articles/9579633505308-What-is-a-Configuration-Models",children:"https://support.elfsquad.io/hc/en-us/articles/9579633505308-What-is-a-Configuration-Models"}),". A configuration model is based on a feature. So if you want to create a model based on the feature you created in step 1 (Product 1), you would have to sent the following request:"]}),"\n",(0,r.jsxs)(t.p,{children:["POST: ",(0,r.jsx)(t.a,{href:"https://api.elfsquad.io/data/1/FeatureModels",children:"https://api.elfsquad.io/data/1/FeatureModels"})]}),"\n",(0,r.jsx)(t.p,{children:"With the following JSON body format:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "rootFeatureId": "32915340-0924-409b-a938-f7024b3d883c",\n  "hideInShowroom": true,\n  "hideInOrderEntry": true,\n  "id": "497f6eca-6276-4993-bfeb-53cbbbba6f08",\n  "reference": "string",\n  "customField1": "string",\n  "customField2": "string",\n  "customField3": "string",\n  "customField4": "string",\n  "customField5": "string"\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Fore more information about the request and response bodies, refer to the provided documentation. ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/spec/data/feature-models-feature-model-create-feature-model",children:"https://docs.elfsquad.io/docs/spec/data/feature-models-feature-model-create-feature-model"})]}),"\n",(0,r.jsx)(t.h2,{id:"5-building-the-model-nodes",children:"5. Building the model: nodes"}),"\n",(0,r.jsx)(t.p,{children:"Now that you have a configuration model, you will have to link your features to your model. In order to do this you will have to create (feature model) nodes. These nodes have quite a few optional properties, but the only ones important for now are: id, featureModelId and featureId.\nTo create new nodes, send the following request:"}),"\n",(0,r.jsxs)(t.p,{children:["POST: ",(0,r.jsx)(t.a,{href:"https://api.elfsquad.io/data/1/FeatureModelNodes/Default.BulkInsert",children:"https://api.elfsquad.io/data/1/FeatureModelNodes/Default.BulkInsert"})]}),"\n",(0,r.jsx)(t.p,{children:"With the following JSON body format:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "entities": [\n    {\n      "featureModelId": "497f6eca-6276-4993-bfeb-53cbbbba6f08",\n      "featureId": "32915340-0924-409b-a938-f7024b3d883d",\n      "hideInQuotation": false,\n      "hideInConfigurator": false,\n      "hideInOrderEntry": false,\n      "hideInOverview": false,\n      "id": "237f6eca-6276-4993-bfeb-53cbbbba6f08",\n      "reference": "string",\n      "customField1": "string",\n      "customField2": "string",\n      "customField3": "string",\n      "customField4": "string",\n      "customField5": "string"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Fore more information about the request and response bodies, refer to the provided documentation. ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/spec/data/feature-model-nodes-bulk-insert",children:"https://docs.elfsquad.io/docs/spec/data/feature-model-nodes-bulk-insert"})]}),"\n",(0,r.jsx)(t.h2,{id:"6-building-the-model-relationships",children:"6. Building the model: relationships"}),"\n",(0,r.jsxs)(t.p,{children:["Now that your features are linked to your model, it is time for the final step: adding structure.\nIn Elfsquad we use (feature model) relationships to do this. More information about how they work here: ",(0,r.jsx)(t.a,{href:"https://support.elfsquad.io/hc/en-us/articles/360035613073-Parent-Child-Relations",children:"https://support.elfsquad.io/hc/en-us/articles/360035613073-Parent-Child-Relations"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"Relationships also have quite a few properties, but for now we'll focus on four of them: featureModelId, fromNodeId, toNodeId, type. All of these are mandatory.\nTo create new relationships, send the following request:"}),"\n",(0,r.jsxs)(t.p,{children:["POST: ",(0,r.jsx)(t.a,{href:"https://api.elfsquad.io/data/1/FeatureModelRelationships/Default.BulkInsert",children:"https://api.elfsquad.io/data/1/FeatureModelRelationships/Default.BulkInsert"})]}),"\n",(0,r.jsx)(t.p,{children:"With the following JSON body format:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "entities": [\n    {\n      "featureModelId": "497f6eca-6276-4993-bfeb-53cbbbba6f08",\n      "fromNodeId": "237f6eca-6276-4993-bfeb-53cbbbba6f08",\n      "toNodeId": "237f6eca-6276-4993-bfeb-53cbbbba6f09",\n      "order": 1,\n      "default": false,\n      "type": "Optional",\n      "reference": "string",\n      "customField1": "string",\n      "customField2": "string",\n      "customField3": "string",\n      "customField4": "string",\n      "customField5": "string"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"Property explanation:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"featureModelId"}),": The id of configuration model this relationship belongs to."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"fromNodeId"}),": The id of the node that should be the parent in this relationship."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"toNodeId"}),": The id of the node that should be the child in this relationship."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"type"}),": The type of the relationship:","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Optional"}),": The child node can be turned on or off."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Mandatory"}),": The child node is always turned on."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Alternative"}),": For the parent node, only one alternative child node can be selected at a time."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Fore more information about the request and response bodies, refer to the provided documentation. ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/docs/spec/data/feature-model-nodes-bulk-insert",children:"https://docs.elfsquad.io/docs/spec/data/feature-model-nodes-bulk-insert"})]}),"\n",(0,r.jsxs)(t.p,{children:["After completing all the steps above, you have succesfully created your master data and model structure.\nPlease refer to our internal documentation if you want to add more logic to your model using formulas, conditions and other constraints: ",(0,r.jsx)(t.a,{href:"https://support.elfsquad.io/hc/en-us/articles/7528093533212-Create-cross-tree-relations-via-data-API",children:"https://support.elfsquad.io/hc/en-us/articles/7528093533212-Create-cross-tree-relations-via-data-API"}),"."]})]})}function h(e={}){let{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},15416:function(e){e.exports=JSON.parse('{"permalink":"/blog/tutorial - using the API to add master data and configuration models.","editUrl":"https://github.com/elfsquad/docs/edit/main/blog/2024-02-27-build-model-api.md","source":"@site/blog/2024-02-27-build-model-api.md","title":"Tutorial - Using the API to add master data and configuration models.","description":"This guide will show you how to create new master data in Elfsquad (for example: from ERP), and use it to create configuration models using only the API.","date":"2024-02-27T00:00:00.000Z","tags":[{"inline":true,"label":"automation","permalink":"/blog/tags/automation"},{"inline":true,"label":"model","permalink":"/blog/tags/model"},{"inline":true,"label":"editor","permalink":"/blog/tags/editor"}],"readingTime":8.15,"hasTruncateMarker":false,"authors":[{"name":"Anco Postma","title":"Tech lead @ Elfsquad","url":"https://github.com/AJJPostma","imageURL":"https://avatars.githubusercontent.com/u/15011154?v=4","key":null,"page":null}],"frontMatter":{"slug":"tutorial - using the API to add master data and configuration models.","title":"Tutorial - Using the API to add master data and configuration models.","author":"Anco Postma","author_title":"Tech lead @ Elfsquad","author_url":"https://github.com/AJJPostma","author_image_url":"https://avatars.githubusercontent.com/u/15011154?v=4","tags":["automation","model","editor"]},"unlisted":false,"nextItem":{"title":"Tutorial - Using the API to create a configuration and add it to a quotation.","permalink":"/blog/tutorial - using the API to create a configuration and add it to a quotation."}}')}}]);