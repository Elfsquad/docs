"use strict";(self.webpackChunkelfsquad=self.webpackChunkelfsquad||[]).push([[82809],{78277:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});var s=n(74848),i=n(28453);const l={title:"SCIM API",sidebar_position:3,sidebar_label:"SCIM API"},d=void 0,r={id:"apis/scim-api",title:"SCIM API",description:"The Elfsquad SCIM API enables you to retrieve, create, update and delete",source:"@site/docs/apis/scim-api.md",sourceDirName:"apis",slug:"/apis/scim-api",permalink:"/docs/apis/scim-api",draft:!1,unlisted:!1,editUrl:"https://github.com/elfsquad/docs/edit/main/docs/apis/scim-api.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"SCIM API",sidebar_position:3,sidebar_label:"SCIM API"},sidebar:"apiSidebar",previous:{title:"Data API",permalink:"/docs/apis/data-api"},next:{title:"Quotation API",permalink:"/docs/apis/quotation-api"}},a={},c=[{value:"Authentication",id:"authentication",level:3},{value:"Creating the SCIM token",id:"creating-the-scim-token",level:4},{value:"Mapping",id:"mapping",level:3},{value:"Assigning roles with JSON Patch",id:"assigning-roles-with-json-patch",level:3},{value:"Adding a Role",id:"adding-a-role",level:4},{value:"Removing a Role",id:"removing-a-role",level:4}];function o(e){const t={a:"a",code:"code",em:"em",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"The Elfsquad SCIM API enables you to retrieve, create, update and delete\nusers within Elfsquad. As the name might give away, this API is a\n(partial) implementation of the SCIM 2.0 standard."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"/docs/spec/scim/scim-api",children:"Open SCIM API Specifcation"})}),"\n",(0,s.jsx)(t.h3,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsxs)(t.p,{children:["The SCIM API does ",(0,s.jsx)(t.em,{children:"not"})," use our normal oauth authentication. Instead,\neach request should include the SCIM token in the ",(0,s.jsx)(t.code,{children:"Authorization"}),"\nheader."]}),"\n",(0,s.jsx)(t.h4,{id:"creating-the-scim-token",children:"Creating the SCIM token"}),"\n",(0,s.jsx)(t.p,{children:"The SCIM token can be created in the EMS, by following the steps below."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.strong,{children:["1. Navigate to the ",(0,s.jsx)(t.a,{href:"https://ems.elfsquad.io/integration?selectedTab=connectedApplications",children:"integrations page"}),", click on the plus button and select 'SCIM Provisioning'"]})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Creating the SCIM token",src:n(61636).A+"",width:"2560",height:"1401"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"2. Copy the token"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"3. Use this token in all API requests to the SCIM api"})}),"\n",(0,s.jsx)(t.h3,{id:"mapping",children:"Mapping"}),"\n",(0,s.jsx)(t.p,{children:"Each field that exists on the Elfsquad user is mapped from a field on\nthe SCIM user. For fields that do not exist on the SCIM user object,\nwe've created extension properties."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Elfsquad Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"SCIM Property"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"UserName"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"userName"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"SSOIdentifier"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"externalId"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"Culture"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"locale"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"Active"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"active"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"CurrencyIso"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"urn:ietf:params:scim:schemas:extension:elfsquad:2.0:User/currencyIso"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"LanguageIso"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"urn:ietf:params:scim:schemas:extension:elfsquad:2.0:User/languageIso"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"CrmAccountId"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"urn:ietf:params:scim:schemas:extension:elfsquad:2.0:User/crmAccountId"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"CrmContactId"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"urn:ietf:params:scim:schemas:extension:elfsquad:2.0:User/crmContactId"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"IsAdmin"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"urn:ietf:params:scim:schemas:extension:elfsquad:2.0:User/isAdmin"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OrganizationId"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"urn:ietf:params:scim:schemas:extension:elfsquad:2.0:User/organizationId"})})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"assigning-roles-with-json-patch",children:"Assigning roles with JSON Patch"}),"\n",(0,s.jsx)(t.p,{children:"You can manage user roles by sending JSON Patch operations to add or\nremove roles. Below are the guidelines for adding and removing roles:"}),"\n",(0,s.jsx)(t.h4,{id:"adding-a-role",children:"Adding a Role"}),"\n",(0,s.jsxs)(t.p,{children:["To add a new role, use the ",(0,s.jsx)(t.code,{children:"add"})," operation. The JSON Patch should look\nlike this:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'[\n    {\n        "op": "add",\n        "path": "roles",\n        "value": [\n            {\n                "value": "role:{roleId}"\n            }\n        ]\n    }\n]\n'})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:'"op": "add"'})," specifies the operation to add a role."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:'"path": "roles"'})," indicates the target field for the operation."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:'"value"'})," contains an array with the role object to be added."]}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"removing-a-role",children:"Removing a Role"}),"\n",(0,s.jsxs)(t.p,{children:["To remove an existing role, use the ",(0,s.jsx)(t.code,{children:"remove"})," operation. The JSON Patch\nshould look like this:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'[\n    {\n        "op": "remove",\n        "path": "roles",\n        "value": [\n            {\n                "value": "role:{roleId}"\n            }\n        ]\n    }\n]\n'})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:'"op": "remove"'})," specifies the operation to remove a role."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:'"path": "roles"'})," indicates the target field for the operation."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:'"value"'})," contains an array with the role object to be removed."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},61636:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/create-scim-token-7aba84077e61ecdb8b052515a9942487.png"}}]);