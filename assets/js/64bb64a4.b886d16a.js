"use strict";(self.webpackChunkelfsquad=self.webpackChunkelfsquad||[]).push([[67064],{64075:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>u,default:()=>f,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var a=n(74848),o=n(28453),i=n(4865),s=n(19365);const r={title:"Create quotation from configuration",sidebar_position:1,sidebar_label:"Create quotation from configuration",slug:"./create-quotation-from-configuration"},u=void 0,c={id:"guides/create-quotation-from-configuration",title:"Create quotation from configuration",description:"Quotation generation falls into two categories: anonymous and",source:"@site/docs/guides/create-quotation-from-configuration.md",sourceDirName:"guides",slug:"/guides/create-quotation-from-configuration",permalink:"/docs/guides/create-quotation-from-configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/elfsquad/docs/edit/main/docs/guides/create-quotation-from-configuration.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Create quotation from configuration",sidebar_position:1,sidebar_label:"Create quotation from configuration",slug:"./create-quotation-from-configuration"},sidebar:"guidesSidebar",next:{title:"Update crm account on quotation",permalink:"/docs/guides/update-crm-account-on-quotation"}},d={},l=[{value:"Authenticated",id:"authenticated",level:2},{value:"1. Creating a quotation",id:"1-creating-a-quotation",level:3},{value:"From an integration",id:"from-an-integration",level:4},{value:"From a custom interface",id:"from-a-custom-interface",level:4},{value:"2. Adding the configuration",id:"2-adding-the-configuration",level:3},{value:"Anonymous",id:"anonymous",level:2}];function h(t){const e={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,o.R)(),...t.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.p,{children:"Quotation generation falls into two categories: anonymous and\nauthenticated. While both can create and modify configurations, the\nprocess of converting a configuration into a quotation differs for each:\nanonymous users may 'request' a quotation, while authenticated users can\ndirectly create a quotation."}),"\n",(0,a.jsx)(e.h2,{id:"authenticated",children:"Authenticated"}),"\n",(0,a.jsx)(e.p,{children:"For authenticated HTTP requests, the translation can be split up into\ntwo steps: creating a quotation & adding a configuration to the\nquotation."}),"\n",(0,a.jsx)(e.h3,{id:"1-creating-a-quotation",children:"1. Creating a quotation"}),"\n",(0,a.jsx)(e.p,{children:"Creating a quotation should be done in different ways, depending on your\nuse-case."}),"\n",(0,a.jsx)(e.h4,{id:"from-an-integration",children:"From an integration"}),"\n",(0,a.jsxs)(e.p,{children:["Integrations should use the ",(0,a.jsx)(e.code,{children:"POST /data/1/Quotations"})," endpoint to create\na quotation. For more information, please consult the ",(0,a.jsx)(e.a,{href:"https://docs.elfsquad.io/apis/data/#tag/Quotations.Quotation/operation/Quotations.Quotation.CreateQuotation",children:"documentation"})]}),"\n",(0,a.jsx)(e.h4,{id:"from-a-custom-interface",children:"From a custom interface"}),"\n",(0,a.jsxs)(e.p,{children:["If you're making a custom interface, a different endpoint should be used\nto create a quotation: ",(0,a.jsx)(e.code,{children:"POST /api/2/quotations"}),"."]}),"\n",(0,a.jsxs)(i.A,{defaultValue:"js",values:[{label:"JavaScript",value:"js"},{label:"HTTP",value:"http"}],children:[(0,a.jsx)(s.default,{value:"http",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-http",children:'POST /api/2/quotations HTTP/1.1\nHost: api.elfsquad.io\nContent-Type: application/json\nAuthorization: Bearer YOUR_TOKEN\n\n{\n  "languageIso": "en",\n  "currencyIso": "eur"\n}\n'})})}),(0,a.jsx)(s.default,{value:"js",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-javascript",children:"const request = fetch('https://api.elfsquad.io/api/2/quotations', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer YOUR_TOKEN'\n  },\n  body: JSON.stringify({\n    languageIso: 'en',\n    currencyIso: 'EUR'\n  })\n})\nconst response = await response.json();\n"})})})]}),"\n",(0,a.jsx)(e.p,{children:"Both of these requests will provide you with the id of the newly created\nquotation. You will need this identifier in the next step."}),"\n",(0,a.jsx)(e.h3,{id:"2-adding-the-configuration",children:"2. Adding the configuration"}),"\n",(0,a.jsxs)(e.p,{children:["The next step, is adding a configuration to the quotation you just\ncreated. For this, you can use an endpoint available in the configurator\nAPI. For more details, please consult the ",(0,a.jsx)(e.a,{href:"https://docs.elfsquad.io/apis/configurator#tag/Configurator/paths/~1configurator~1%7Bversion%7D~1configurator~1addtoquotation/put",children:"addtoquotation endpoint\ndocumentation"})]}),"\n",(0,a.jsx)(e.h2,{id:"anonymous",children:"Anonymous"}),"\n",(0,a.jsxs)(e.p,{children:["Requesting a quotation as an anonymous user is relatively simple. You\nonly need to perform one request to the ",(0,a.jsx)(e.a,{href:"https://docs.elfsquad.io/apis/configurator/#tag/Configurator/paths/~1configurator~1%7Bversion%7D~1configurator~1requestquote/post",children:"requestquote endpoint"}),"."]}),"\n",(0,a.jsxs)(e.p,{children:["This endpoint accepts the quotation id, configuration id(s) and a\n",(0,a.jsx)(e.code,{children:"quotationRequest"})," object. This object is used for adding metadata about\nthe anonymous user to the quotation, such as their name, email address,\netc. A new CrmAccount will be automatically created to store these data\npoints."]}),"\n",(0,a.jsxs)(i.A,{defaultValue:"js",values:[{label:"JavaScript",value:"js"},{label:"HTTP",value:"http"}],children:[(0,a.jsx)(s.default,{value:"http",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-http",children:'POST /configurator/3/configurator/requestquote HTTP/1.1\nHost: api.elfsquad.io\nContent-Type: application/json\nAuthorization: Bearer YOUR_TOKEN\n\n{\n    "configurationIds": ["1316cf56-1d58-4a3a-9d5e-7bba00a2cc41"],\n    "quotationId": "1316cf56-1d58-4a3a-9d5e-7bba00a2cc41",\n    "quotationRequest": {\n        "firstName": "Stan",\n        "email": "stan@elfsquad.io",\n        ...\n    }\n}\n'})})}),(0,a.jsx)(s.default,{value:"js",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-javascript",children:"const configurationIds = ['1316cf56-1d58-4a3a-9d5e-7bba00a2cc41'];\nconst quotationId = '1316cf56-1d58-4a3a-9d5e-7bba00a2cc41';\nconst quotationRequest = {\nfirstName: 'Stan',\nemail: 'stan@elfsquad.io',\n// ...\n};\n\nconst requestOptions = {\nmethod: 'POST',\nheaders: {\n  'Content-Type': 'application/json',\n  'Authorization': 'Bearer YOUR_TOKEN',\n},\nbody: JSON.stringify({\n  configurationIds,\n  quotationId,\n  quotationRequest,\n}),\n};\n\nconst response = await fetch('https://api.elfsquad.io/configurator/3/configurator/requestquote', requestOptions);\nconst data = await response.json();\n"})})})]})]})}function f(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,a.jsx)(e,{...t,children:(0,a.jsx)(h,{...t})}):h(t)}},4865:(t,e,n)=>{n.d(e,{A:()=>f});var a=n(96540),o=n(18215),i=n(23104),s=n(47751),r=n(92303);const u={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var c=n(74848);function d(t){let{className:e,block:n,selectedValue:a,selectValue:s,tabValues:r}=t;const d=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),h=t=>{const e=t.currentTarget,n=d.indexOf(e),o=r[n].value;o!==a&&(l(e),s(o))},f=t=>{let e=null;switch(t.key){case"Enter":h(t);break;case"ArrowRight":{const n=d.indexOf(t.currentTarget)+1;e=d[n]??d[0];break}case"ArrowLeft":{const n=d.indexOf(t.currentTarget)-1;e=d[n]??d[d.length-1];break}}e?.focus()};return(0,c.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":n},e),children:r.map((t=>{let{value:e,label:n,attributes:i}=t;return(0,c.jsx)("li",{role:"tab",tabIndex:a===e?0:-1,"aria-selected":a===e,ref:t=>d.push(t),onKeyDown:f,onClick:h,...i,className:(0,o.A)("tabs__item",u.tabItem,i?.className,{"tabs__item--active":a===e}),children:n??e},e)}))})}function l(t){let{lazy:e,children:n,selectedValue:o}=t;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const t=i.find((t=>t.props.value===o));return t?(0,a.cloneElement)(t,{className:"margin-top--md"}):null}return(0,c.jsx)("div",{className:"margin-top--md",children:i.map(((t,e)=>(0,a.cloneElement)(t,{key:e,hidden:t.props.value!==o})))})}function h(t){const e=(0,s.u)(t);return(0,c.jsxs)("div",{className:(0,o.A)("tabs-container",u.tabList),children:[(0,c.jsx)(d,{...e,...t}),(0,c.jsx)(l,{...e,...t})]})}function f(t){const e=(0,r.default)();return(0,c.jsx)(h,{...t,children:(0,s.v)(t.children)},String(e))}}}]);