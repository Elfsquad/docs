"use strict";(self.webpackChunkelfsquad=self.webpackChunkelfsquad||[]).push([[87890],{37073:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var r=n(74848),i=n(28453);const o={slug:"tutorial - custom configurator",title:"Tutorial - Custom configurator",author:"Johannes Heesterman",author_title:"Lead Software Engineer @ Elfsquad",author_url:"https://github.com/johannesheesterman",author_image_url:"https://avatars.githubusercontent.com/u/7443666?v=4",tags:["configurator"]},a=void 0,s={permalink:"/blog/tutorial - custom configurator",editUrl:"https://github.com/elfsquad/docs/edit/main/blog/2020-11-25-custom-configurator.md",source:"@site/blog/2020-11-25-custom-configurator.md",title:"Tutorial - Custom configurator",description:"Quick overview",date:"2020-11-25T00:00:00.000Z",tags:[{label:"configurator",permalink:"/blog/tags/configurator"}],readingTime:2.21,hasTruncateMarker:!1,authors:[{name:"Johannes Heesterman",title:"Lead Software Engineer @ Elfsquad",url:"https://github.com/johannesheesterman",imageURL:"https://avatars.githubusercontent.com/u/7443666?v=4"}],frontMatter:{slug:"tutorial - custom configurator",title:"Tutorial - Custom configurator",author:"Johannes Heesterman",author_title:"Lead Software Engineer @ Elfsquad",author_url:"https://github.com/johannesheesterman",author_image_url:"https://avatars.githubusercontent.com/u/7443666?v=4",tags:["configurator"]},unlisted:!1,prevItem:{title:"Tutorial - Custom viewer based on Verge3D",permalink:"/blog/tutorial - verge3d viewer"}},c={authorsImageUrls:[void 0]},d=[{value:"Quick overview",id:"quick-overview",level:2},{value:"Step 1. Retrieve a list of configuration models.",id:"step-1-retrieve-a-list-of-configuration-models",level:3},{value:"Step 2. Start a new configuration",id:"step-2-start-a-new-configuration",level:3},{value:"Step 3. Update value",id:"step-3-update-value",level:3}];function l(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"quick-overview",children:"Quick overview"}),"\n",(0,r.jsx)(t.p,{children:"In this tutorial I will provide a quick overview of the endpoints that\ncan be used to implement your own customer-facing configurator."}),"\n",(0,r.jsx)(t.h3,{id:"step-1-retrieve-a-list-of-configuration-models",children:"Step 1. Retrieve a list of configuration models."}),"\n",(0,r.jsxs)(t.p,{children:["The first thing we want to do is provide the user with a selection of\navailable configuration models. In order to achieve this we can use the\n",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/apis/configurator#tag/Configurator/paths/~1configurator~1%7Bversion%7D~1configurator~1configurationmodels/get",children:"configuration models endpoint"})]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"GET /configurator/1/configurator/configurationmodels"})}),"\n",(0,r.jsx)(t.h3,{id:"step-2-start-a-new-configuration",children:"Step 2. Start a new configuration"}),"\n",(0,r.jsxs)(t.p,{children:["When a user has selected a configuration model to be configured, we can\nuse the ",(0,r.jsx)(t.code,{children:"featureModelId"})," property to start a new configuration session.\nWe use the ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/apis/configurator#tag/Configurator/paths/~1configurator~1%7Bversion%7D~1configurator~1new~1%7BfeatureModelName%7D/get",children:"start configuration endpoint"}),"\nfor this."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"GET /configurator/1/configurator/new/{featureModelId}"})}),"\n",(0,r.jsxs)(t.p,{children:["Result (",(0,r.jsx)(t.em,{children:"Some data has been emitted for clarity."}),"):"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "id": "9c83b007-7e61-4b4c-9920-f125606844d5",\n  "currencyIso": "eur",\n  "currency": {\n    "iso": "eur",\n    "name": "Euro",\n    "symbol": "\\u20ac",\n    "decimalDigits": 2,\n    "rounding": 0,\n    "namePlural": "Euros",\n    "isDefault": false\n  },\n  "languageIso": "nl",\n  "countryIso": "nl",\n  "featureModelId": "b8230fc6-454c-4190-a33a-08d5640714ca",\n  "featureModel": ..., \n  "values": {\n    "7bcf2363-4300-4a6a-faa9-08d5640714d2": 1,\n    "580b4519-1a7a-46f9-fa7d-08d5640714d2": 4,\n    "8c81fabc-eaed-41e2-8ec2-08d5d10145ad": 4,\n    "e22f606d-3e4e-462e-8ec3-08d5d10145ad": 72,\n    ...\n  },\n  "conflicts": null,\n  "basePrice": 42750,\n  "basePriceLabel": "\\u20ac 42.750,00",\n  "basePriceIncVAT": 42750,\n  "basePriceIncVATLabel": "\\u20ac 42.750,00",\n  "basePriceExVAT": 42750,\n  "basePriceExVATLabel": "\\u20ac 42.750,00",\n  "additionalPrice": 10730,\n  "additionalPriceLabel": "\\u20ac 10.730,00",\n  "additionalPriceIncVAT": 10730,\n  "additionalPriceIncVATLabel": "\\u20ac 10.730,00",\n  "additionalPriceExVAT": 10730,\n  "additionalPriceExVATLabel": "\\u20ac 10.730,00",\n  "totalPrice": 53480,\n  "totalPriceLabel": "\\u20ac 53.480,00",\n  "totalPriceExVAT": 53480,\n  "totalPriceExVATLabel": "\\u20ac 53.480,00",\n  "totalPriceIncVAT": 53480,\n  "totalPriceIncVATLabel": "\\u20ac 53.480,00",\n  "leasePrices": null,\n  "leasePricesLabels": null\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"Overview of important configuration properties:"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Name"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Id"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Guid"})}),(0,r.jsx)(t.td,{children:"Identifier of the configuration session. This id is used for updating configuration values and requesting a quotation."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"FeatureModel"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"object"})}),(0,r.jsx)(t.td,{children:"Object that represents the entire configuration model. This object should be used to build the configurator UI."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Values"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"object"})}),(0,r.jsx)(t.td,{children:"Object that contains all values of the configuration. The key represents the identifier of a feature model node. The value represents the selected value for that particular node."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Conflicts"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"object"})}),(0,r.jsx)(t.td,{children:"If a conflict occurs during the configuration process this object will be filled with conflicting nodes and solution options."})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"step-3-update-value",children:"Step 3. Update value"}),"\n",(0,r.jsxs)(t.p,{children:["In order to update a value for a particular option we use the ",(0,r.jsx)(t.a,{href:"https://docs.elfsquad.io/apis/configurator/#tag/Configurator/paths/~1configurator~1%7Bversion%7D~1configurator~1%7BconfigurationId%7D/put",children:"update\nrequirement endpoint"})]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"PUT /configurator/1/configurator/{configurationId}?ignoreConflicts=true"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.code,{children:"ignoreConflicts"})," parameter is optional. When this parameter is\nset to true the configurator will automatically resolve any conflicts\nthat might occur."]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Request body:"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:'{featureModelNodeId: "949af91c-8a0b-4540-fa87-08d5640714d2", value: 1}'})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Name"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"featureModelNodeId"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Guid"})}),(0,r.jsx)(t.td,{children:"Identifier of the feature model node."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"value"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"number"})}),(0,r.jsx)(t.td,{children:"User-selected value for the option. 0 for false, 1 for true, or any other number when the option is provided as an input field."})]})]})]})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);